<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>HotCoffe QR Generator</title>

    <!-- Favicon & Brand Icon -->
    <link rel="icon" href="https://s6.imgcdn.dev/Y6dmPH.jpg" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom Dark Theme Tweaks -->
    <style>
      body {
        background-color: #121212;
      }
      .navbar-brand img {
        height: 32px;
        width: 32px;
      }
      .qr-display > div {
        margin: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
      <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="#">
          <img src="https://s6.imgcdn.dev/Y6dmPH.jpg" alt="HotCoffe logo" class="me-2" />
          <span class="fw-semibold">HotCoffe</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container py-4">
      <h1 class="h3 mb-4 text-center">QR Generator</h1>
      <form
        id="dbl-qr"
        method="POST"
        action="/"
        enctype="multipart/form-data"
        class="card p-4 bg-body-tertiary border-0 shadow-sm"
      >
        <!-- QR Generation Method -->
        <fieldset class="mb-4">
          <legend class="fs-5">QR Generation Method</legend>

          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              id="qr-auto"
              name="qr-method"
              value="auto"
              checked
            />
            <label class="form-check-label" for="qr-auto">
              Auto – No file needed. Might fail in some circumstances; try manual if you
              have an expired code message.
            </label>
          </div>

          <div class="form-check mt-2">
            <input
              class="form-check-input"
              type="radio"
              id="qr-manual"
              name="qr-method"
              value="manual"
            />
            <label class="form-check-label" for="qr-manual">
              Manual – Upload a recently generated code from your account. Use if auto
              fails.
            </label>
          </div>

          <div class="mt-3">
            <label for="qrcode" class="form-label">Upload a recent QR code:</label>
            <input class="form-control" type="file" id="qrcode" name="qrcode" />
            <input type="hidden" id="qrcode_b64" />
          </div>
        </fieldset>

        <!-- Friend Codes -->
        <fieldset class="mb-4">
          <legend class="fs-5">Friend Codes</legend>
          <div class="row g-3">
            <div class="col-md-4">
              <input
                type="text"
                minlength="8"
                maxlength="8"
                placeholder="Friend 1 ..."
                autocomplete="dbl-qr-1"
                name="dbl-qr-1"
                class="form-control"
              />
            </div>
            <div class="col-md-4">
              <input
                type="text"
                minlength="8"
                maxlength="8"
                placeholder="Friend 2 ..."
                autocomplete="dbl-qr-2"
                name="dbl-qr-2"
                class="form-control"
              />
            </div>
            <div class="col-md-4">
              <input
                type="text"
                minlength="8"
                maxlength="8"
                placeholder="Friend 3 ..."
                autocomplete="dbl-qr-3"
                name="dbl-qr-3"
                class="form-control"
              />
            </div>
          </div>
        </fieldset>

        <button type="submit" class="btn btn-primary w-100">Display Codes</button>
      </form>

      <!-- QR Display Area -->
      <section class="qr-display d-flex flex-wrap justify-content-center mt-4">
        <div id="qr-display-1" class="p-3"></div>
        <div id="qr-display-2" class="p-3"></div>
        <div id="qr-display-3" class="p-3"></div>
      </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <!-- JSQRCode Library -->
    <script type="text/javascript" src="libraries/jsqrcode/grid.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/version.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/detector.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/formatinf.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/errorlevel.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/bitmat.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/datablock.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/bmparser.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/datamask.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/rsdecoder.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/gf256poly.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/gf256.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/decoder.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/qrcode.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/findpat.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/alignpat.js"></script>
    <script type="text/javascript" src="libraries/jsqrcode/databr.js"></script>

    <!-- Custom Logic -->
    <script type="text/javascript" src="qr.js"></script>
  </body>
</html>
